(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{41:function(e,n,t){},47:function(e,n,t){},50:function(e,n,t){},51:function(e,n,t){},52:function(e,n,t){},53:function(e,n,t){},54:function(e,n,t){},55:function(e,n,t){},56:function(e,n,t){},57:function(e,n,t){},58:function(e,n,t){},59:function(e,n,t){},60:function(e,n,t){},61:function(e,n,t){"use strict";t.r(n);var a,i,r=t(0),c=t.n(r),o=t(16),s=t.n(o),l=(t(35),t(41),t(9)),p=t.n(l),d=t(17),u=t(11),j=t(65),b=t(63),O=Object({NODE_ENV:"production",PUBLIC_URL:"/pizza-order",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IS_STUBS:"true"}).REACT_APP_SERVER_HOST||"http://localhost",m=Number(Object({NODE_ENV:"production",PUBLIC_URL:"/pizza-order",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IS_STUBS:"true"}).REACT_APP_SERVER_HTTP_PORT)||3021;!function(e){e.Pepperoni="pepperoni",e.Mushrooms="mushrooms",e.Onion="onion",e.Sausage="sausage",e.Bacon="bacon",e.ExtraCheese="extra-cheese",e.BlackOlives="black-olives",e.GreenPeppers="green-peppers",e.Pineapple="pineapple",e.Spinach="spinach"}(a||(a={})),function(e){e.Small="small",e.Medium="medium",e.Large="large"}(i||(i={}));var h,g=t(6),x=(h={},Object(g.a)(h,i.Small,{price:800,inches:8,maximumToppings:5}),Object(g.a)(h,i.Medium,{price:1e3,inches:12,maximumToppings:7}),Object(g.a)(h,i.Large,{price:1200,inches:16,maximumToppings:9}),h),f=[{name:a.Pepperoni,onPizza:"pepperoni.png"},{name:a.Mushrooms,onPizza:"mushrooms.png",titleColor:"black"},{name:a.Onion,onPizza:"onions.png",titleColor:"black"},{name:a.Sausage,onPizza:"sausage.png"},{name:a.Bacon,onPizza:"bacon.png",titleColor:"black"},{name:a.ExtraCheese,onPizza:"extra-cheese.png",titleColor:"black"},{name:a.BlackOlives,onPizza:"black-olives.png"},{name:a.GreenPeppers,onPizza:"green-peppers.png"},{name:a.Pineapple,onPizza:"pineapple.png",titleColor:"black"},{name:a.Spinach,onPizza:"spinach.png"}];function z(e){return new Promise((function(n){return setTimeout(n,e)}))}function v(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(n);case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})))}"".concat(O,":").concat(m);function S(e){return{data:e,isLoading:!0,error:""}}var _,T,P,C=v(x,750),k=v(f,1500),N=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(n);case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}("Your pizza will start cook soon!",750),w=c.a.createContext({orderSizeInfo:S({}),toppings:S([]),order:{size:i.Medium,isThick:!1,toppings:[]},setOrder:function(){},isFormValid:!0,setIsFormValid:function(){},modalContent:{header:"",body:""},setModalContent:function(){},isModalShow:!1,setIsModalShow:function(){}}),I=t(1),E=function(){var e=Object(r.useContext)(w),n=(e.isFormValid,e.modalContent),t=e.isModalShow,a=e.setIsModalShow,i=function(){return a(!1)};return Object(I.jsx)("div",{className:"ErrorHandler",children:Object(I.jsxs)(j.a,{show:t,onHide:i,children:[Object(I.jsx)(j.a.Header,{closeButton:!0,children:Object(I.jsx)(j.a.Title,{children:n.header})}),Object(I.jsx)(j.a.Body,{children:n.body}),Object(I.jsx)(j.a.Footer,{children:Object(I.jsx)(b.a,{variant:"secondary",onClick:i,children:"Close"})})]})})},R=(t(47),function(e){return Object(I.jsx)("div",{className:"Divider",children:e.text})}),M=t(13),y=t(18),L=function(e){return y.capitalize(e).replace(/-/g," ")},B=function(e,n){var t={style:"currency",currency:n||"USD",minimumFractionDigits:2};return new Intl.NumberFormat("en-US",t).format(e/100)},F=function(e,n,t){var a=t[n].maximumToppings;return{header:"Toppings Limit",body:"Please, remove ".concat(e.toppings.length-a," toppings. The maximum of toppings for the ").concat(e.size," size is ").concat(a,", but the current number is ").concat(e.toppings.length,".")}},D=(t(50),t(64)),A=t(66),H=function(){var e=c.a.useContext(w),n=e.orderSizeInfo,t=e.order,a=e.setOrder,i=e.setModalContent,r=e.setIsFormValid,o=e.setIsModalShow,s=function(e){return function(){var c=n.data[e].maximumToppings;t.toppings.length>c&&(i(F(t,e,n.data)),r(!1),o(!0)),a((function(n){return Object(M.a)(Object(M.a)({},n),{},{size:e})}))}};return Object(I.jsx)("div",{className:"SizePicker",children:Object(I.jsx)("div",{className:"SizePicker__dishes",children:n.isLoading?Object(I.jsx)(D.a,{animation:"border",variant:"warning"}):n.error?Object(I.jsx)(A.a,{variant:"danger",children:n.error}):Object.entries(n.data).map((function(e,n){var a,i,r=Object(u.a)(e,2),c=r[0],o=r[1];return Object(I.jsxs)("div",{onClick:s(c),className:(a={"SizePicker__size-dish":!0},Object(g.a)(a,"SizePicker__size-dish--".concat(c),!0),Object(g.a)(a,"active",t.size===c),i=a,Object.entries(i).filter((function(e){return e[1]})).map((function(e){return e[0]})).join(" ")),children:[o.inches,'"']},n)}))})})},V=t(30);t(51);!function(e){e.Pepperoni="pepperoni",e.Mushrooms="mushrooms",e.Onion="onion",e.Sausage="sausage",e.Bacon="bacon",e.ExtraCheese="extra-cheese",e.BlackOlives="black-olives",e.GreenPeppers="green-peppers",e.Pineapple="pineapple",e.Spinach="spinach"}(T||(T={})),function(e){e.Round="round",e.Ring="ring",e.Oval="oval",e.Square="square",e.Gull="gull"}(P||(P={}));var U,G=(_={},Object(g.a)(_,T.Pepperoni,P.Round),Object(g.a)(_,T.Mushrooms,P.Gull),Object(g.a)(_,T.Onion,P.Ring),Object(g.a)(_,T.Sausage,P.Oval),Object(g.a)(_,T.Bacon,P.Square),Object(g.a)(_,T.ExtraCheese,P.Round),Object(g.a)(_,T.BlackOlives,P.Round),Object(g.a)(_,T.GreenPeppers,P.Gull),Object(g.a)(_,T.Pineapple,P.Square),Object(g.a)(_,T.Spinach,P.Round),_);!function(e){e.Thick="thick",e.Big="big",e.Default="default"}(U||(U={}));var K=function(e){var n=e.className,t=void 0===n?"":n,a=e.checked,i=e.onChange,r=void 0===i?function(e){}:i,c=e.toppingName,o=e.toppingShape,s=e.pizzaShape,l=void 0===s?U.Default:s,p=e.titleText,d=void 0===p?"pepperoni":p,u=e.titleColor,j=void 0===u?"yellow":u;return Object(I.jsxs)("div",{className:["PizzaToggle"].concat(Object(V.a)(c?["PizzaToggle_toppingName_".concat(Object(y.camelCase)(c)),"PizzaToggle_toppingShape_".concat(G[c])]:["PizzaToggle_toppingShape_".concat(o)]),["PizzaToggle_pizzaShape_".concat(l),t]).join(" "),children:[Object(I.jsx)("div",{className:"PizzaToggle__title",style:{color:j},children:d}),Object(I.jsx)("input",{type:"checkbox",onChange:r,checked:a}),Object(I.jsx)("div",{className:"PizzaToggle__shadow"}),Object(I.jsx)("div",{className:"PizzaToggle__pizza",children:Object(I.jsx)("div",{className:"PizzaToggle__inner",children:new Array(5).fill(0).map((function(e,n){return Object(I.jsx)("div",{className:"PizzaToggle__topping"},n)}))})})]})},W=(t(52),function(e){var n=e.className,t=void 0===n?"":n,a=e.onClick,i=void 0===a?function(){}:a,r=e.checked,c=e.imgSrc,o=void 0===c?"":c,s=e.titleText,l=e.titleColor,p=void 0===l?"white":l,d=e.toppingName,u=e.toppingShape,j=e.pizzaShape;return Object(I.jsxs)("div",{className:"CardToggle ".concat(t),onClick:i,children:[Object(I.jsx)("img",{className:"CardToggle__img",alt:s,src:o}),Object(I.jsx)(K,{className:"CardToggle__PizzaToggle",checked:r,titleText:s,titleColor:p,toppingName:d,toppingShape:u,pizzaShape:j})]})}),q=function(){var e=Object(r.useContext)(w),n=e.order,t=e.setOrder;return Object(I.jsx)(W,{imgSrc:"./toggles/thin-thick-middle-pizza-with-arrows.png",titleText:"\xa0THIN / THICK",titleColor:"black",pizzaShape:U.Thick,onClick:function(){t((function(e){return Object(M.a)(Object(M.a)({},e),{},{isThick:!n.isThick})}))},checked:n.isThick})},J=(t(53),function(){var e=c.a.useContext(w),n=e.orderSizeInfo,t=e.toppings,a=e.order,i=e.setOrder,r=e.setModalContent,o=e.setIsFormValid,s=e.setIsModalShow,l=function(e,t){return function(){var a=y.find(e.toppings,{name:t.name})?e.toppings.filter((function(e){return e.name!==t.name})):[].concat(Object(V.a)(e.toppings),[t]),c=n.data[e.size].maximumToppings;a.length>c&&a.length>e.toppings.length?(r({header:"Toppings Limit",body:"The maximum of toppings for the ".concat(e.size," size is ").concat(c,".")}),s(!0)):(a.length<=c&&(r({header:"",body:""}),o(!0)),i((function(e){return Object(M.a)(Object(M.a)({},e),{},{toppings:a})})))}};return Object(I.jsx)("div",{className:"ToppingsPicker",children:Object(I.jsx)("div",{className:"ToppingsPicker__list",children:t.isLoading||n.isLoading?Object(I.jsx)(D.a,{animation:"border",variant:"warning"}):t.error||n.error?Object(I.jsx)(A.a,{variant:"danger",children:t.error}):t.data.map((function(e){return Object(I.jsx)(W,{onClick:l(a,e),checked:!!y.find(a.toppings,{name:e.name}),imgSrc:"./toggles/".concat(e.onPizza),titleText:L(e.name),titleColor:e.titleColor,toppingName:e.name},e.name)}))})})}),Y=(t(54),function(){return Object(I.jsx)("div",{className:"PizzaForm",children:Object(I.jsxs)("div",{className:"PizzaForm__inner",children:[Object(I.jsx)(R,{text:"Size"}),Object(I.jsx)(H,{}),Object(I.jsx)(R,{text:"Crust type"}),Object(I.jsx)(q,{}),Object(I.jsx)(R,{text:"Toppings"}),Object(I.jsx)(J,{})]})})}),Q=(t(55),function(e){var n=e.className,t=void 0===n?"":n,a=c.a.useContext(w).order;return Object(I.jsxs)("div",{className:"PizzaPreview ".concat(t),children:[Object(I.jsx)("img",{className:"PizzaPreview__part",src:"./pizza-base.png",alt:""}),Object(I.jsx)("img",{className:"PizzaPreview__part",src:"./pizza-sauce.png",alt:""}),a.toppings.map((function(e,n){var t=e.onPizza;return Object(I.jsx)("img",{className:"PizzaPreview__part",src:"./toppings/on-pizza/".concat(t),alt:""},t)}))]})}),X=(t(56),function(){var e=c.a.useContext(w),n=e.order,t=e.orderSizeInfo;if(t.isLoading)return Object(I.jsx)("div",{className:"OrderInfo",children:Object(I.jsx)(D.a,{animation:"border",variant:"warning"})});if(t.error)return Object(I.jsx)("div",{className:"OrderInfo",children:Object(I.jsx)(A.a,{variant:"danger",children:t.error})});console.log("front/src/containers/OrderInfo/index.tsx:orderSizeInfo",t);var a=n.toppings,i=n.size,r=t.data[i].price,o=n.isThick?400:200,s=a.length>3?50*(a.length-3):0,l=r+o+s;return Object(I.jsxs)("div",{className:"OrderInfo",children:[Object(I.jsxs)("ul",{className:"OrderInfo__list",children:[Object(I.jsxs)("li",{className:"OrderInfo__item",children:[Object(I.jsxs)("span",{children:[L(i)," Size"]}),Object(I.jsx)("span",{children:B(r)})]}),Object(I.jsxs)("li",{className:"OrderInfo__item",children:[Object(I.jsxs)("span",{children:[n.isThick?"Thick":"Thin"," Crust type"]}),Object(I.jsx)("span",{children:B(o)})]}),Object(I.jsxs)("li",{className:"OrderInfo__item",children:[Object(I.jsx)("span",{children:"Toppings"}),Object(I.jsx)("span",{children:B(s)})]})]}),Object(I.jsxs)("div",{className:"OrderInfo__total",children:[Object(I.jsx)("span",{children:"Total:"}),Object(I.jsx)("span",{children:B(l)})]})]})}),Z=(t(57),function(){var e=c.a.useContext(w),n=e.orderSizeInfo,t=e.order,a=e.isFormValid,i=e.setIsModalShow,o=e.setModalContent,s=Object(r.useState)(!1),l=Object(u.a)(s,2),j=l[0],b=l[1];return Object(I.jsx)("button",{onClick:Object(d.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.isLoading||n.error||j)){e.next=2;break}return e.abrupt("return");case 2:if(!a){e.next=17;break}return e.prev=3,b(!0),e.next=7,N(t);case 7:r=e.sent,o({header:"Success!",body:r}),b(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),o({header:"Error",body:String(e.t0)});case 15:e.next=18;break;case 17:o(F(t,t.size,n.data));case 18:i(!0);case 19:case"end":return e.stop()}}),e,null,[[3,12]])}))),className:"OrderButton",children:n.isLoading||j?Object(I.jsx)(D.a,{animation:"border",variant:"warning"}):n.error?n.error:"Make an order"})}),$=(t(58),function(){return Object(I.jsxs)("div",{className:"OrderSection",children:[Object(I.jsx)(X,{}),Object(I.jsx)(Z,{})]})}),ee=(t(59),function(){return Object(I.jsxs)("div",{className:"PizzaDisplay",children:[Object(I.jsx)(Q,{}),Object(I.jsx)(R,{text:"Information about order"}),Object(I.jsx)($,{})]})}),ne=(t(60),function(){var e=Object(r.useState)(S([])),n=Object(u.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)(S({})),s=Object(u.a)(o,2),l=s[0],j=s[1],b=c.a.useState({size:i.Medium,isThick:!1,toppings:[]}),O=Object(u.a)(b,2),m=O[0],h=O[1],g=c.a.useState(!0),x=Object(u.a)(g,2),f=x[0],z=x[1],v=c.a.useState({header:"",body:""}),_=Object(u.a)(v,2),T=_[0],P=_[1],N=c.a.useState(!1),R=Object(u.a)(N,2),M=R[0],y=R[1];return Object(r.useEffect)((function(){Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k().then((function(e){a({data:e,isLoading:!1,error:""})})).catch((function(e){a({data:[],isLoading:!1,error:String(e)})}));case 1:case"end":return e.stop()}}),e)})))(),Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=j,e.next=4,C();case 4:e.t1=e.sent,e.t2={data:e.t1,isLoading:!1,error:""},(0,e.t0)(e.t2),e.next=12;break;case 9:e.prev=9,e.t3=e.catch(0),j({data:{},isLoading:!1,error:String(e.t3)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),Object(I.jsx)(w.Provider,{value:{orderSizeInfo:l,toppings:t,order:m,setOrder:h,isFormValid:f,setIsFormValid:z,modalContent:T,setModalContent:P,isModalShow:M,setIsModalShow:y},children:Object(I.jsxs)("div",{className:"app",children:[Object(I.jsx)(ee,{}),Object(I.jsx)(Y,{}),Object(I.jsx)(E,{})]})})});s.a.render(Object(I.jsx)(ne,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.d509c9f2.chunk.js.map